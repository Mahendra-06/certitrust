{"ast":null,"code":"import React,{useState}from'react';import{User,LogOut,ChevronDown}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=()=>{const{user,logout}=useAuth();const navigate=useNavigate();const[isOpen,setIsOpen]=useState(false);if(!user)return null;const getInitials=name=>{return name.split(' ').map(n=>n[0]).join('').toUpperCase();};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(!isOpen),className:\"flex items-center space-x-2 focus:outline-none\",children:[user.avatar?/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:user.name,className:\"w-8 h-8 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-medium\",children:getInitials(user.name)}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden md:inline text-sm font-medium text-gray-700\",children:user.name.split(' ')[0]}),/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 text-gray-500 transition-transform \".concat(isOpen?'transform rotate-180':'')})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg py-1 z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 border-b border-gray-100\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 font-medium\",children:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 truncate\",children:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/dashboard/\".concat(user.role.toLowerCase()),className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setIsOpen(false),children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 mr-3\"}),\"Profile\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{logout();setIsOpen(false);navigate('/');},className:\"w-full text-left flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4 mr-3\"}),\"Sign out\"]})]})]})]});};export default UserProfile;","map":{"version":3,"names":["React","useState","User","LogOut","ChevronDown","useAuth","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","UserProfile","user","logout","navigate","isOpen","setIsOpen","getInitials","name","split","map","n","join","toUpperCase","className","children","onClick","avatar","src","alt","concat","email","to","role","toLowerCase"],"sources":["D:/SIH prototype/Frontend/src/components/UserProfile.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { User, LogOut, ChevronDown } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nconst UserProfile: React.FC = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const [isOpen, setIsOpen] = useState(false);\n\n  if (!user) return null;\n\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase();\n  };\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center space-x-2 focus:outline-none\"\n      >\n        {user.avatar ? (\n          <img\n            src={user.avatar}\n            alt={user.name}\n            className=\"w-8 h-8 rounded-full object-cover\"\n          />\n        ) : (\n          <div className=\"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-medium\">\n            {getInitials(user.name)}\n          </div>\n        )}\n        <span className=\"hidden md:inline text-sm font-medium text-gray-700\">\n          {user.name.split(' ')[0]}\n        </span>\n        <ChevronDown className={`w-4 h-4 text-gray-500 transition-transform ${isOpen ? 'transform rotate-180' : ''}`} />\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg py-1 z-50\">\n          <div className=\"px-4 py-3 border-b border-gray-100\">\n            <p className=\"text-sm text-gray-900 font-medium\">{user.name}</p>\n            <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\n          </div>\n          <div className=\"py-1\">\n            <Link\n              to={`/dashboard/${user.role.toLowerCase()}`}\n              className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n              onClick={() => setIsOpen(false)}\n            >\n              <User className=\"w-4 h-4 mr-3\" />\n              Profile\n            </Link>\n            <button\n              onClick={() => {\n                logout();\n                setIsOpen(false);\n                navigate('/');\n              }}\n              className=\"w-full text-left flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50\"\n            >\n              <LogOut className=\"w-4 h-4 mr-3\" />\n              Sign out\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}